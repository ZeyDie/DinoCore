buildscript {
    repositories {
		mavenCentral()
        maven {
            name = "forge"
            url = "https://files.minecraftforge.net/maven"
        }
		maven {
			name = "maven"
			url = "https://repo1.maven.org/maven2"
		}
    }
    dependencies {
        classpath 'net.minecraftforge.gradle:ForgeGradle:1.0-SNAPSHOT'
    }
}

repositories {
	flatDir {
		dirs 'libs'
	}
}

apply plugin: 'forge'

[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

sourceCompatibility = targetCompatibility = '1.7'
compileJava {
    sourceCompatibility = targetCompatibility = '1.7'
}

version = "1.6.4-" + new Date().format('dd.MM.yyyy') + "-deobf"
group = 'net.minecraftforge'
archivesBaseName = "DinoCore"

minecraft {
	version = "1.6.4-9.11.1.963"
	
	srgExtra "PK: org/bukkit/craftbukkit org/bukkit/craftbukkit/v1_6_R3"
    srgExtra "PK: net/minecraft/src ."
}

dependencies {
	compile fileTree(dir: 'libs' , include: '*.jar')

	compile name: "Sashok724Authlib"
	compile group: 'com.google.code.gson', name: 'gson', version: '2.2.4'
	compile group: 'com.google.guava', name: 'guava', version: '14.0'
	compile group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1'
	compile group: 'commons-io', name: 'commons-io', version: '2.7'
	compile group: 'commons-lang', name: 'commons-lang', version: '2.6'
	compile group: 'javax.persistence', name: 'persistence-api', version: '1.0.2'
	compile group: 'jline', name: 'jline', version: '2.12.1'
	compile group: 'lzma', name: 'lzma', version: '0.0.1'
	compile group: 'mysql', name: 'mysql-connector-java', version: '5.1.14'
	compile group: 'net.lingala.zip4j', name: 'zip4j', version: '2.6.1'
	compile group: 'net.md-5', name: 'SpecialSource', version: '1.7.4'
	compile group: 'net.minecraft', name: 'launchwrapper', version: '1.8'
	compile group: 'net.sf.jopt-simple', name: 'jopt-simple', version: '4.5'
	compile group: 'net.sf.trove4j', name: 'trove4j', version: '3.0.3'
	compile group: 'net.sourceforge.argo', name: 'argo', version: '2.25'
	compile group: 'org.apache.commons', name: 'commons-lang3', version: '3.1'
	compile group: 'org.avaje', name: 'ebean', version: '2.7.3'
	compile group: 'org.bouncycastle', name: 'bcprov-jdk15on', version: '1.47'
	compile group: 'org.fusesource.jansi', name: 'jansi', version: '1.11'
	compile group: 'org.javassist', name: 'javassist', version: '3.27.0-GA'
	compile group: 'org.ow2.asm', name: 'asm-debug-all', version: '5.2'
	compile group: 'org.scala-lang', name: 'scala-compiler', version: '2.10.2'
	compile group: 'org.scala-lang', name: 'scala-library', version: '2.10.2'
	compile group: 'org.xerial', name: 'sqlite-jdbc', version: '3.7.2'
	compile group: 'org.yaml', name: 'snakeyaml', version: '1.9'

	// https://mvnrepository.com/artifact/io.netty/netty-all
	compile group: 'io.netty', name: 'netty-all', version: '4.1.90.Final'

	// https://mvnrepository.com/artifact/org.projectlombok/lombok
	compile group: 'org.projectlombok', name: 'lombok', version: '1.18.26'
	//annotationProcessor group: 'org.projectlombok', name: 'lombok', version: '1.18.26'

	// https://mvnrepository.com/artifact/org.jetbrains/annotations
	compile group: 'org.jetbrains', name: 'annotations', version: '24.0.0'
}

task devJar(type: Jar) {
	classifier = 'dev'
	from sourceSets.main.output
}

task sourcesJar(type: Jar) {
	classifier = 'sources'
	from sourceSets.main.allSource
}

artifacts {
	archives devJar
	archives sourcesJar
}

jar {
    manifest {
        attributes(
            'Implementation-Vendor': 'Cauldron fork by DiverseLab, ZeyDie',
			'Implementation-Title': 'Cauldron fork by DiverseLab, ZeyDie',
			'Implementation-Version': 'git-Cauldron-MCPC-Plus-' + project.version,
			'Forge-Version': '9.11.1.965',
			'Specification-Vendor': 'Bukkit Team, ZeyDie, Sa1ZeR_',
			'Specification-Title': 'Bukkit',
			'Specification-Version': '1.6.4-R2.1-SNAPSHOT',
			'Main-Class': 'cpw.mods.fml.relauncher.ServerLaunchWrapper',
			'Class-Path': 'libraries/com/google/code/gson/gson/2.2.4/gson-2.2.4.jar libraries/com/google/guava/guava/14.0/guava-14.0.jar libraries/com/googlecode/json-simple/json-simple/1.1/json-simple-1.1.jar libraries/commons-io/commons-io/2.7/commons-io-2.7.jar libraries/commons-lang/commons-lang/2.6/commons-lang-2.6.jar libraries/javax/persistence/persistence-api/1.0.2/persistence-api-1.0.2.jar libraries/jline/jline/2.12.1/jline-2.12.1.jar libraries/lzma/lzma/0.0.1/lzma-0.0.1.jar libraries/mysql/mysql-connector-java/5.1.14/mysql-connector-java-5.1.14.jar libraries/net/lingala/zip4j/zip4j/2.6.1/zip4j-2.6.1.jar libraries/net/md-5/SpecialSource/1.7.4/SpecialSource-1.7.4.jar libraries/net/minecraft/launchwrapper/1.8/launchwrapper-1.8.jar libraries/net/sf/jopt-simple/jopt-simple/4.5/jopt-simple-4.5.jar libraries/net/sf/trove4j/trove4j/3.0.3/trove4j-3.0.3.jar libraries/net/sourceforge/argo/argo/2.25/argo-2.25.jar libraries/org/apache/commons/commons-lang3/3.1/commons-lang3-3.1.jar libraries/org/avaje/ebean/2.7.3/ebean-2.7.3.jar libraries/org/bouncycastle/bcprov-jdk15on/1.47/bcprov-jdk15on-1.47.jar libraries/org/fusesource/jansi/jansi/1.11/jansi-1.11.jar libraries/org/javassist/javassist/3.27.0-GA/javassist-3.27.0-GA.jar libraries/org/ow2/asm/asm-all/5.2/asm-all-5.2.jar libraries/org/scala-lang/scala-compiler/2.10.2/scala-compiler-2.10.2.jar libraries/org/scala-lang/scala-library/2.10.2/scala-library-2.10.2.jar libraries/org/xerial/sqlite-jdbc/3.7.2/sqlite-jdbc-3.7.2.jar libraries/org/yaml/snakeyaml/1.9/snakeyaml-1.9.jar libraries/ru/zoom4ikdan4ik/gson-reader/1.0/gson-reader-1.0.jar libraries/com/sk89q/warmroast/warmroast.jar'
        )
    }
}